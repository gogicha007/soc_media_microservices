{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"media-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:230:11)\n    at NativeConnection.openUri (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\connection.js:1075:34)\n    at Mongoose.connect (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\mongoose.js:451:15)\n    at file:///E:/CODES/NodeJS/social-media-microservices/media-service/src/server.js:15:4\n    at ModuleJob.run (node:internal/modules/esm/module_job:343:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:647:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)","timestamp":"2025-12-12T08:16:46.852Z"}
{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"media-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:230:11)\n    at NativeConnection.openUri (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\connection.js:1075:34)\n    at Mongoose.connect (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\mongoose.js:451:15)\n    at file:///E:/CODES/NodeJS/social-media-microservices/media-service/src/server.js:15:4\n    at ModuleJob.run (node:internal/modules/esm/module_job:343:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:647:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)","timestamp":"2025-12-12T08:20:16.707Z"}
{"level":"error","message":"Unknown error with Multer while uploading: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at file:///E:/CODES/NodeJS/social-media-microservices/media-service/src/routes/media-routes.js:21:5\n    at Layer.handleRequest (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (file:///E:/CODES/NodeJS/social-media-microservices/media-service/src/middleware/authMiddleware.js:14:3)\n    at Layer.handleRequest (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-12-12T08:45:11.324Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-12-12T08:47:40.418Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-12-12T08:48:29.962Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-12-12T08:50:23.339Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-12-12T10:35:00.046Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-12-12T10:36:11.462Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-12-12T10:38:10.394Z"}
{"level":"error","message":"Error uploading the file MediaCapabilities is not defined","service":"media-service","stack":"ReferenceError: MediaCapabilities is not defined\n    at uploadMedia (file:///E:/CODES/NodeJS/social-media-microservices/media-service/src/controllers/media-controller.js:27:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-12T10:38:25.877Z"}
{"_message":"Media validation failed","errors":{"mimeType":{"kind":"required","message":"Path `mimeType` is required.","name":"ValidatorError","path":"mimeType","properties":{"message":"Path `mimeType` is required.","path":"mimeType","type":"required"}},"originalName":{"kind":"required","message":"Path `originalName` is required.","name":"ValidatorError","path":"originalName","properties":{"message":"Path `originalName` is required.","path":"originalName","type":"required"}}},"level":"error","message":"Error uploading the file Media validation failed: originalName: Path `originalName` is required., mimeType: Path `mimeType` is required.","service":"media-service","stack":"ValidationError: Media validation failed: originalName: Path `originalName` is required., mimeType: Path `mimeType` is required.\n    at Document.invalidate (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:3370:32)\n    at validatePath (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:3145:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 1)\n    at async model.$__validate (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:3086:3)\n    at async model.validate (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:2663:5)\n    at async model.validateBeforeSave (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2025-12-12T10:39:33.557Z"}
{"_message":"Media validation failed","errors":{"mimeType":{"kind":"required","message":"Path `mimeType` is required.","name":"ValidatorError","path":"mimeType","properties":{"message":"Path `mimeType` is required.","path":"mimeType","type":"required"}},"originalName":{"kind":"required","message":"Path `originalName` is required.","name":"ValidatorError","path":"originalName","properties":{"message":"Path `originalName` is required.","path":"originalName","type":"required"}}},"level":"error","message":"Error uploading the file Media validation failed: originalName: Path `originalName` is required., mimeType: Path `mimeType` is required.","service":"media-service","stack":"ValidationError: Media validation failed: originalName: Path `originalName` is required., mimeType: Path `mimeType` is required.\n    at Document.invalidate (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:3370:32)\n    at validatePath (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:3145:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 1)\n    at async model.$__validate (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:3086:3)\n    at async model.validate (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\document.js:2663:5)\n    at async model.validateBeforeSave (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (E:\\CODES\\NodeJS\\social-media-microservices\\media-service\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2025-12-12T10:40:54.911Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T06:43:34.140Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T06:45:45.368Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T06:45:53.266Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T07:24:53.553Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T07:34:14.700Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T07:35:50.718Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T07:41:27.120Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-12-17T07:44:13.903Z"}
